jdk:
  - openjdk8
before_install: "git clone https://github.com/VincentBlouin/travis-maven-deploy.git target/travis"
script: "[ ${TRAVIS_PULL_REQUEST} = 'false' ] && mvn clean deploy --settings target/travis/settings.xml || mvn clean verify --settings target/travis/settings.xml"

# whitelist
branches:
  only:
    - master
 
env:
  global:
    - secure: "UBaOMoj448rMQniEosrZ7XJFtlUtn5IGutWgt4RuHFF3bHkEyo3FyWzicXKrta8lqM3x8U/xWuswGieW90khMLMtCWHfvwmxWEw/5xhrWxxx826CFCaUvVLUaQj0VOY1or03bFO7ZANp1MHzP/3XCi8tKFmVDO1mg8Ls2qairhrhFWdGkUggsPwocWA4486cAMcDoCm3FCgm0dA+Q3fd+1y7BCkwOJndbLbceCGJ4chryuEuGzlV8g1h2BX/y2oMLiyttaK2PWVHpEcHSVVlW3gv6mN5Fgk9yCbq2u2OhqjUJiSCkIloZ46jnVaztiDwPXlgdl+Y6gLpHOO4R5IJDKETVEn2MIdVk1cy+Zm1XmK6qhl+D/m8nsZ6LE175jU9nh/XuF62eeokJYasmXcvyk4+PsXfvXU5tNeVGKi+BfDo91ndb8koQTaWxWVXG3jfunYu9Fbmx0XYgJQrGXSHmf7zI1gSGzO6oxj5cZUxAql6PMlx2NmeRpspBZ6INgBWsjfiwxycuwetahGQYt8TyEY8hoZXDGeWrugv+6Q6A1JW6GEu0zHcPdigibDsaWcL5RLD6oYjzxFFYlTNlBWnvC3BHqzTzzq+vTx3r4IPpLLr5OGOywN1TpXJnbnSDFUJecBRZQPDRbT9rXUJlT4XzKa7EDliTBalBuWz61Corko="
    - secure: "Zs0Ric/cKxB+XpDcrRlrVTFOKDOMhrRxfNlANLbGSw6pMNfjAN2/36skFjhqYSCllpEiiYjcnMUA+9iZb5vpxQpsVwKvoGqFoOvDICv1wR3hyxBW/3GmIcnVlo2G4jlfZsTkAuKQUJaMtQZ33weIhQmTOaTR6GiZst3AHzUTgxR2h/VZEHSW5stfJF8TjVb3905vV44vAGRKIR5xE9++q350QJaYwjElMT813ew86uMTtv2fzD+rXdGU9pcYwxkSYsYtQE4osb/cTv6/FPIV+uFeHDuje8HFZa+RbPdhmz6Qq7vf9QO7rzLV8kvhOZIBSZNYEQw2GbJOFTxTMeNFbyHCvsWQ1G/ixfNHhGN4XNcaVIRui1h41TyeGKWgSllpNFjAl57kBiXoOcCX4TcOMnQVeBASUApMZZhxrJsomf+bFKalvHasMMomYcZd6j1u2NK9zN5uJLpxjG2r/xUY/63JnqIQKe0+K65jUeoT+kRyIOGEbQOFJwjZeD458v1JhBwIId7JxCIhH7Rl7gWxdcUaDA6+BWcAasy/juoqSgzII5XO4abxLvJMIO0is+rMwjI1TqrHmp3F/d0q67ScIA4BLf3b+LSZ4bOKPaDDR+w/rCGnRBjebKOQkmCuHTFKGDa5EWy7J0o0XcCzQuMUWCc1qQ7WwRrid9aCzLHlxcg="
    - secure: "X644lQMtzOBkTJxFSjIqtvrfghYAevjz5g7xt2WbQEjuPCD/44JQjPAPNVldytk/DBm/5F8aUHTvo9SwBJVY3Za+unztLznzcDLQ5ooTr5Kd0csbzomwc414+0TFakCtQx8sJgPbhwpIh7QZYH4dFkSEOl4mv/QGKBclwt8oD1swOG/yfEVrGLES8BNaMK/FH16EKB/HApwWS6/dcewAXRsiThZ38mZvFHP7JnHBfUJnIrXwoMJXPdpeFS1UzNW6ef7lp2i6iKyd6mXEEkSR7nnoILXySpf5yX8RA9nr9d68A6Ky8T4w7nSIOW9ww9btfp3giexnGcV5Nh7/dCNfCNwa3MsX9d1bOQTu2TJfGZtJnqv9+nYVuOxqmrpArKtXBrqRt6EVKNg2XI0Gw+50M6pnyZQyLPnG1HCR7ynZvp3cAMTAwQYoTrvCI312xI50JEH7HauoFsnig+qcQ7A6MX+XwrMQTTfgLuW+rsQn+fz9labYV00eksXghW/K6b48d60w2LNiCGzVWal8+/w9BxybsHj9VPrfl+srapsjGX294RMCa5v9AP5pWTwiK5BJURH3XgJ9DiHw4hSzwkaPJVFptlddn7ZQsT039HZLWuD2EDwO7jFiriNyoYlc7Aw1Y4PNxvzfAERCIZ08GprRLM1iGalapIn7qbDRBrAVHPQ="

after_success:
    - git clone https://github.com/VincentBlouin/travis-build-children target/travis-build-children
    - chmod 755 target/travis-build-children/build_children.sh
    - target/travis-build-children/build_children.sh bubl-guru/model